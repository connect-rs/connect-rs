syntax = "proto3";

package greet.v1;

message GreetRequest {
  string name = 1;
}

message GreetResponse {
  string greeting = 1;
}

message User {
  string id = 1;
  string email = 2;
  Profile profile = 3;

  message Profile {
    string display_name = 1;
    string avatar_url = 2;
  }
}

message GetUserRequest {
  string name = 1;
}

message GetUserResponse {
  User user = 1;
}

service GreetService {
  rpc Greet(GreetRequest) returns (GreetResponse) {
    option idempotency_level = NO_SIDE_EFFECTS;
  }

  rpc GetUser(GetUserRequest) returns (GetUserResponse) {
    option idempotency_level = NO_SIDE_EFFECTS;
  }
}
